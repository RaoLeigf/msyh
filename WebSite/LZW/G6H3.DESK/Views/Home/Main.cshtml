@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml"; 
}

@section script
{

   <script src="@Url.Content("~/Resource/js/MainFrame.js")" type="text/javascript" ></script>
   <script type="text/javascript">

       Ext.QuickTips.init();

       var frame = $GetWFrame();

       Ext.onReady(function () {
           MainFrame.init();
           //MainFrame.active();                     
       })
     

       function OpenTab(url,id,text) {

             var frame1 = document.createElement("IFRAME");
             frame1.id = "frame1";
             frame1.frameBorder = 0;
             frame1.src = url;
             frame1.height = "100%";
             frame1.width = "100%";

             var panel = Ext.create("Ext.Panel", {
                 title: text,
                 id: id,
                 //html: '<iframe id="frame1" src="home/About" frameborder="0" width="100%" height="100%"></iframe>',
                 closable: true,
                 listeners: {
                     //beforeclose: beforeRemoveTab
                 },
                 contentEl: frame1
             });

             if (!tabMain.getComponent(id)) {
                 Ext.getCmp("tabMain").add(panel);
             }          

             frame1.parentContainer = panel;
             //debugger;

             var curtab = tabMain.getComponent(id)
             tabMain.setActiveTab(curtab);

         }
       
       frame.OpenTab = OpenTab;
      
      


   </script>    
}
